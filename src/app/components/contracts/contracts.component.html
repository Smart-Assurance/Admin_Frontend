
<div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
data-sidebar-position="fixed" data-header-position="fixed">
<!-- Sidebar Start -->
<app-side-bar-admin></app-side-bar-admin>
<!--  Sidebar End -->
<!--  Main wrapper -->
<div class="body-wrapper">
  <!--  Header Start -->
<app-header></app-header>
  <!--  Header End -->
  <div class="container-fluid">

    <div class="row">
        <div class="card w-100">
            <div class="card-body p-4">
                <div class="d-flex justify-content-between my-4">
                    <h5 class="card-title fw-semibold mb-4">Contracts management</h5>
                    <button type="button" (click)="toggleModal()" class="btn btn-secondary m-1"><i class="ti ti-checklist"></i></button>
                  </div>
                  <app-add-contract-modal
                  [showModal]="isModalOpen"
                  (toggleModal)="toggleModal()"
                ></app-add-contract-modal>
              <div class="table-responsive">
                <table class="table text-nowrap mb-0 align-middle text-center">
                  <thead class="text-dark fs-4">
                    <tr>
                      <th class="border-bottom-0">
                        <h6 class="fw-semibold mb-0">Ref</h6>
                      </th>
                    
                      <th class="border-bottom-0">
                        <h6 class="fw-semibold mb-0">Name</h6>
                      </th>
                      <th class="border-bottom-0">
                        <h6 class="fw-semibold mb-0">Price</h6>
                      </th>
                      <th class="border-bottom-0">
                        <h6 class="fw-semibold mb-0">Options</h6>
                      </th>
                      <th class="border-bottom-0">
                        <h6 class="fw-semibold mb-0">Status</h6>
                      </th>
                      <th class="border-bottom-">
                        <h6 class="fw-semibold mb-0">Actions</h6>
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                   <tr *ngFor="let contract of contracts">
                        <td class="border-bottom-0"><h6 class="fw-semibold mb-0">{{ contract.id }}</h6></td>
                        <td class="border-bottom-0">
                          <p class="mb-0 fw-normal">{{ contract.name }}</p>
                        </td>
                        <td class="border-bottom-0">
                            <p class="mb-0 fw-normal">{{ contract.price }}</p>
                          </td>
                      
                          <td class="border-bottom-0">
                            <ul *ngFor="let option of contract.options">
                                <li><p class="mb-0 fw-normal">{{ option }}</p></li>
                            </ul>
                          </td>
                          
                        <td class="border-bottom-0">
                            <div (click)="updateState(contract.id)" class="d-flex align-items-center text-center gap-2" >
                              <ng-container *ngIf="contract.active === true; else inactive">
                                <span class="badge bg-primary rounded-3 fw-semibold">Active</span>
                              </ng-container>
                              <ng-template #inactive>
                                <span class="badge bg-warning rounded-3 fw-semibold">Inactive</span>
                              </ng-template>
                            </div>
                          </td>
                          <td class="border-bottom-0">
                            <button  type="button" (click)="openContractDetailModal(contract)" class="btn btn-primary m-1"><i class="ti ti-eye"></i></button>
                            <button (click)="openUpdateContractModal(contract)" type="button" class="btn btn-success m-1"><i class="ti ti-refresh"></i></button>
                            <button  type="button" (click)="deleteContract(contract.id)"  class="btn btn-danger m-1"><i class="ti ti-x"></i></button></td>
                        </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
    </div>
  </div>
</div>
</div>